---
tag:
  - 面试
title: Java 数据类型常见面试题总结
---

# **Java 数据类型常见面试题总结**

 **Java 中有哪 8 种基本数据类型？**

byte、short、int、long、float、double、char、boolean

**默认值和占用空间大小**

| 基本数据类型 | 占用空间(单位：字节) | 默认值   |
| ------------ | -------------------- | -------- |
| byte         | 1                    | 0        |
| short        | 2                    | 0        |
| int          | 4                    | 0        |
| long         | 8                    | 0L       |
| float        | 4                    | 0.0f     |
| double       | 8                    | 0.0d     |
| char         | 2                    | '\u0000' |
| boolean      | 1位                  | false    |

boolean数据，官方文档没有规定，依赖 JVM 厂商具体实现，逻辑上理解占用 1 位

 **对应的包装类**

Byte、Short、Integer、Long、Float、Double、Character、Boolean

**基本数据类型与包装类的区别**

用途：除了一些常量和局部变量之外，在其他地方如方法参数，很少使用基本数据类型来定义变量。并且包装类能够使用泛型

存储方式：基本数据类型的局部变量存放在Java虚拟机栈的局部变量表中，基本数据类型的成员变量（未被 static 修饰）存放在 Java虚拟机的堆中。包装类型属于对象类型，几乎所有的对象实例都是存在堆中。

默认值：包装类不赋值就是 null， 基本数据类型有相应的默认值

比较方式：基本数据类型`==`比较得是值，对于包装类而言，对象的内存地址。包装类类型之间比较，全部使用`equals()`方法

**为什么说几乎所有对象实例都存在堆中**

这是因为HotSpot虚拟机引入了JIT优化，会对对象进行逃逸分析，如果发现某个对象没有逃逸到方法外部，那么就可能通过标量替换来实现栈上分配，从而避免对上分配内存

**基本数据类型存放在栈中是一个误区** 基本数据类型的成员变量如果没有被`static`修饰的话就存放在堆中

**包装类型的常量化技术**

Byte、Short、Integer、Long这四种包装类型都默认创建数值[-127,128]的相应类型的缓存数据，Character创建了数值[0,127]的缓存数据、Boolean直接返回 TRUE或FLASE。

如果超出对应范围还是会创建新对象，缓存范围区间大小只是**性能与资源**之间的权衡

两种浮点型的包装类没有实现常量池技术

**为什么会有包装类型**

Java本身是一门 OOP（面向对象编程）语言，对象可以说是 Java的灵魂。

除了定义一些常量和局部变量之外，我们在其他地方比如方法参数、对象属性中很少会使用基本类型来定义变量。

**什么是自动拆装箱？原理？**
基本类型和包装类型之间的互相转换。

自动装箱拆箱的原理是代码编译器自动补全行为。

装箱实际就是调用了包装类的`valueOf()`方法，拆箱其实就是调用了 `xxxValue()` 方法。

**由于自动拆箱出现npe**

1.数据库返回空数据。

2.三目运算符，返回结果有基本数据类型和包装类，但包装类是空，刚好返回结果是包装类。

归结起来都是包装类为空引用，再赋值给基本数据类型。